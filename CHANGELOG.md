# Changelog

所有版本更新记录。

版本号规则：`主版本.次版本.修复版本.构建号`
- 第一位：重大功能更新
- 第二位：一般功能更新  
- 第三位：Bug 修复
- 第四位：构建号

---

## [1.3.1.046] - 2026-01-17

### 🎨 体验优化

本版本重点优化外观设置和滑动体验。

### 新增功能

#### 🎨 外观设置
- 新增主题模式切换（深色/浅色/跟随系统）
- 完善浅色主题配色方案

#### 👆 滑动体验优化
- 新增滑动灵敏度调节（设置页面可调）
- 不同方向应用不同阈值系数（下滑最易触发）
- 到达阈值时轻微震动反馈
- 阈值前后图标差异显示（空心→实心）

### 修复

- 修复滑动灵敏度修改后触发失效的问题
- 修复筛选状态下排序只在500张内生效的问题
- 修复上滑删除时偶发的加载错误提示

---

## [1.3.0.007] - 2026-01-17

### 🧪 体验优化与实验性功能

本版本修复关键问题并增加实验性功能入口。

### 新增功能

#### 🧪 实验性功能开关
- 设置中新增"实验性功能"开关，默认关闭
- 开启后首页显示智能画廊入口
- 描述："AI相关功能，施工中，不确定在您的手机上是什么样"

#### 📍 照片地点显示
- 照片信息现在显示拍摄地点（省 · 市）
- 纯离线逆地理编码，无需网络
- 内置中国约 340 个城市坐标数据

#### 📅 拍摄时间优化
- 照片信息显示完整日期时间（yyyy/MM/dd HH:mm）
- 更精确的时间记录

### 修复

#### 🔧 排序分页问题修复
- 修复切换排序方式时只在当前 500 张内排序的问题
- 现在切换排序会先对所有照片排序，再取前 500 张
- 支持"最新优先"和"最早优先"两种排序

---

## [1.3.0.007] - 2026-01-17

### 🧪 体验优化与实验性功能

本版本修复关键问题并增加实验性功能入口。

### 新增功能

#### 🧪 实验性功能开关
- 设置中新增"实验性功能"开关，默认关闭
- 开启后首页显示智能画廊入口
- 描述："AI相关功能，施工中，不确定在您的手机上是什么样"

#### 📍 照片地点显示
- 照片信息现在显示拍摄地点（省 · 市）
- 纯离线逆地理编码，无需网络
- 内置中国约 340 个城市坐标数据

#### 📅 拍摄时间优化
- 照片信息显示完整日期时间（yyyy/MM/dd HH:mm）
- 更精确的时间记录

### 修复

#### 🔧 排序分页问题修复
- 修复切换排序方式时只在当前 500 张内排序的问题
- 现在切换排序会先对所有照片排序，再取前 500 张
- 支持"最新优先"和"最早优先"两种排序

---

## [1.2.0.020] - 2026-01-17

### 🎛️ 自定义首页版本

本版本增加首页布局自定义功能，让整理体验更灵活。

### 新增功能

#### 🎛️ 一站式整理开关
- 设置中新增"一站式整理"开关，默认关闭
- 开启：首页显示一站式整理模块（完整卡片样式）
- 关闭：首页隐藏一站式整理模块，更简洁

#### 📊 顶部统计显示
- 关闭一站式整理后，首页顶部显示待整理/已整理数量
- 小巧的统计条，不占用太多空间
- 让用户随时了解整理进度

#### 🔄 任务模式改名
- "心流模式"更名为"一条龙整理"
- 更直观地表达功能含义

#### 💬 意见反馈入口
- 设置页面新增"意见反馈与功能许愿"链接
- 方便用户提交反馈和建议

### 修复
- 修复设置页面版本号未更新的问题

---

## [1.1.0.018] - 2026-01-17

### 🚀 体验优化版本

本版本针对用户反馈进行了全面的体验优化。

### 功能改进

#### 🎯 首页布局优化
- **每日任务**升级为首页核心入口，采用大卡片突出显示
- **一站式整理**调整为次要入口，简洁紧凑的卡片样式
- 更符合日常使用习惯的布局顺序

#### ⚡ 快速滑动优化
- 彻底解决快速滑动时的崩溃问题
- 优化数据库查询，使用 `LIMIT` 和单独的 `COUNT` 查询避免 `CursorWindow` 溢出
- 恢复丝滑的 Spring 动画效果，告别卡顿

#### 📊 进度显示修复
- 修复快速整理模式分母显示为500的问题
- 现在正确显示所有待整理照片的真实总数
- 分子分母稳定，不再闪烁

#### 📱 桌面小组件优化
- 每日任务进度实时更新
- 布局优化，2x2格子内完整显示
- 去除重复的进度数字显示

#### ⚙️ 默认设置优化
- 每日任务默认使用**快速整理模式**（更高效）
- 每日提醒**默认开启**
- 提醒时间默认设为**晚上10点**

---

## [1.0.0.001] - 2026-01-16

### 🎉 第一个正式版本！

PhotoZen 图禅 —— 让整理照片变成一种享受。

### 核心功能

#### 🎴 滑动整理 (Flow Sorter)
- Tinder 风格滑动：左右保留、上滑删除、下滑待定
- Spring 动画和触觉反馈
- 列表视图支持批量选择
- 支持 1/2/3 列切换

#### 🔍 照片对比 (Light Table)
- 同时对比 2-4 张照片
- 同步缩放功能
- 快速决策

#### 🏷️ 标签气泡
- 物理模拟的可拖拽气泡
- 弹性碰撞和惯性滑动
- 位置自动记忆
- 支持层级结构

#### ✂️ 无损编辑
- 非破坏性裁切
- 虚拟副本管理
- 图片导出

#### 🚀 心流模式
- 一站式整理流程
- 连击系统
- 胜利庆祝动画

#### 🏆 成就系统
- 50+ 成就徽章
- 5 个稀有度等级
- 进度追踪

#### 📁 照片管理
- 智能筛选（全部/相机/排除相机/自定义）
- 日期和相册范围选择
- 批量操作
- 回收站管理
- 外部删除同步

---

## 开发历程

以下为开发过程中的内部版本记录（v0.x.x）：

### [0.5.9] - 2026-01-16
- 修复 Workflow 模式筛选计数显示
- UI 文案优化

### [0.5.8] - 2026-01-16
- Flow 筛选条件改为响应式 StateFlow
- CUSTOM 模式正确导航

### [0.5.7] - 2026-01-16
- Flow 列表视图列数切换
- 回收站批量待定
- Flow 会话照片追踪

### [0.5.6] - 2026-01-16
- 批量管理扩展到待定和回收站
- 标签照片批量操作
- 列数切换功能

### [0.5.5] - 2026-01-16
- 批量管理模式
- 标签气泡拖动体验优化
- 品牌升级为 PhotoZen 图禅

### [0.5.4] - 2026-01-16
- 首页布局调整
- 移动模式优化

### [0.5.3] - 2026-01-15
- 标签气泡拖拽
- 气泡位置记忆
- 成就庆祝特效

### [0.5.2] - 2026-01-15
- 成就统计模块
- 快速分类数量修复

### [0.5.1] - 2026-01-15
- 快速分类横幅
- 排序图标区分
- 复制照片时间戳修复

### [0.5.0] - 2026-01-15
- 照片排序功能
- 照片复制功能
- EXIF 保留

### [0.4.0] - 2026-01-14
- 新应用图标
- 标签与系统相册关联
- 瀑布流布局
- 分享照片功能

### [0.3.0] - 2026-01-12
- Flow Sorter 滑动整理
- Light Table 照片对比
- 连击和成就系统
- 虚拟副本

### [0.2.0] - 2026-01-10
- 标签管理系统
- 快速标签功能
- 照片筛选

### [0.1.0] - 2026-01-08
- 基础照片整理功能
- MediaStore 同步
- 状态管理

### [0.0.1] - 2026-01-05
- 初始版本
- 基础框架搭建
