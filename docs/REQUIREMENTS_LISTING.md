# PhotoZen 照片列表需求规格 v1.0

> 生成日期: 2026-01-25
> 原始文档: listing_prd.md

---

## 需求索引表

| 需求编号 | 需求名称 | 所属模块 | 优先级 |
|---------|---------|---------|-------|
| REQ-001 | 网格视图基础定义 | 通用规则 | P0 |
| REQ-002 | 网格视图列数切换(2-5列) | 通用规则 | P1 |
| REQ-003 | 网格视图双指缩放手势 | 通用规则 | P1 |
| REQ-004 | 网格视图列数切换动效 | 通用规则 | P1 |
| REQ-005 | 网格视图长按拖动多选 | 通用规则 | P0 |
| REQ-006 | 瀑布流视图基础定义 | 通用规则 | P0 |
| REQ-007 | 瀑布流视图列数切换(1-5列) | 通用规则 | P1 |
| REQ-008 | 瀑布流视图双指缩放手势 | 通用规则 | P1 |
| REQ-009 | 瀑布流视图列数切换动效 | 通用规则 | P1 |
| REQ-010 | 瀑布流视图仅支持点击多选 | 通用规则 | P0 |
| REQ-011 | 照片真实时间定义 | 通用规则 | P0 |
| REQ-012 | 全屏预览-基础布局 | 全屏预览 | P0 |
| REQ-013 | 全屏预览-图片信息展示 | 全屏预览 | P0 |
| REQ-014 | 全屏预览-照片预览条 | 全屏预览 | P0 |
| REQ-015 | 全屏预览-底部操作栏 | 全屏预览 | P0 |
| REQ-016 | 全屏预览-显示隐藏切换 | 全屏预览 | P0 |
| REQ-017 | 全屏预览-双击缩放 | 全屏预览 | P0 |
| REQ-018 | 全屏预览-双指缩放(1-10倍) | 全屏预览 | P0 |
| REQ-019 | 全屏预览-左右滑动切换 | 全屏预览 | P0 |
| REQ-020 | 全屏预览-下滑退出 | 全屏预览 | P0 |
| REQ-021 | 全屏预览-进入过渡动画 | 全屏预览 | P1 |
| REQ-022 | 排序按钮交互一致性 | 通用规则 | P0 |
| REQ-023 | 排序方式独立记忆 | 通用规则 | P0 |
| REQ-024 | 底部操作栏布局规范 | 通用规则 | P0 |
| REQ-025 | 底部操作栏滑动支持 | 通用规则 | P1 |
| REQ-026 | 复制照片功能(保留EXIF) | 通用规则 | P0 |
| REQ-027 | 视图模式切换按钮 | 通用规则 | P0 |
| REQ-028 | 待定列表-排序选项 | 待定列表 | P0 |
| REQ-029 | 待定列表-点击选中(最多6张) | 待定列表 | P0 |
| REQ-030 | 待定列表-拖动多选限制6张 | 待定列表 | P0 |
| REQ-031 | 待定列表-清除和对比按钮 | 待定列表 | P0 |
| REQ-032 | 待定列表-对比模式全屏预览 | 待定列表 | P0 |
| REQ-033 | 回收站列表-排序选项 | 回收站列表 | P0 |
| REQ-034 | 回收站列表-点击进入全屏预览 | 回收站列表 | P0 |
| REQ-035 | 回收站列表-长按进入选择模式 | 回收站列表 | P0 |
| REQ-036 | 回收站列表-底部操作(保留/待定/重置/删除) | 回收站列表 | P0 |
| REQ-037 | 已保留列表-排序选项(含随机) | 已保留列表 | P0 |
| REQ-038 | 已保留列表-已分类过滤开关 | 已保留列表 | P0 |
| REQ-039 | 已保留列表-点击进入全屏预览 | 已保留列表 | P0 |
| REQ-040 | 已保留列表-长按进入选择模式 | 已保留列表 | P0 |
| REQ-041 | 已保留列表-底部操作(5项) | 已保留列表 | P0 |
| REQ-042 | 已保留列表-添加到相册弹窗 | 已保留列表 | P0 |
| REQ-043 | 已保留列表-快速分类模块 | 已保留列表 | P0 |
| REQ-044 | 相册列表-排序选项(含随机) | 相册列表 | P0 |
| REQ-045 | 相册列表-点击进入全屏预览 | 相册列表 | P0 |
| REQ-046 | 相册列表-长按进入选择模式 | 相册列表 | P0 |
| REQ-047 | 相册列表-底部操作(4项+单选1项) | 相册列表 | P0 |
| REQ-048 | 相册列表-批量修改筛选状态 | 相册列表 | P0 |
| REQ-049 | 相册列表-添加到其他相册 | 相册列表 | P0 |
| REQ-050 | 相册列表-顶部整理模块 | 相册列表 | P0 |
| REQ-051 | 时间线列表-排序选项(含随机) | 时间线列表 | P0 |
| REQ-052 | 时间线列表-点击进入全屏预览 | 时间线列表 | P0 |
| REQ-053 | 时间线列表-长按进入选择模式 | 时间线列表 | P0 |
| REQ-054 | 时间线列表-底部操作(4项+单选1项) | 时间线列表 | P0 |
| REQ-055 | 时间线列表-批量修改筛选状态 | 时间线列表 | P0 |
| REQ-056 | 时间线列表-顶部整理模块 | 时间线列表 | P0 |
| REQ-057 | 筛选列表-全局操作按钮 | 筛选列表 | P0 |
| REQ-058 | 筛选列表-深度整理模式布局 | 筛选列表 | P1 |
| REQ-059 | 快速分类-编辑相册列表弹窗 | 其他需求 | P0 |
| REQ-060 | 快速分类-撤销功能 | 其他需求 | P0 |
| REQ-061 | 相册列表-编辑快捷相册入口 | 其他需求 | P1 |
| REQ-062 | 相册列表-开始整理按钮样式统一 | 其他需求 | P1 |
| REQ-063 | 照片状态指示器样式优化 | 其他需求 | P1 |
| REQ-064 | 筛选列表标题样式优化 | 其他需求 | P1 |
| REQ-065 | 每日任务跨天进度修复 | 其他需求 | P0 |
| REQ-066 | 备选方案-列数切换按钮 | 备选方案 | P2 |
| REQ-067 | 新手引导设计 | 其他需求 | P2 |

---

## 一、概念定义与通用规则

### REQ-001: 网格视图基础定义
指列表中每个照片均显示为正方形（裁切以使撑满正方形的情况下保留最多的照片内容）的视图。

### REQ-002~004: 网格视图列数切换
- 支持2列、3列、4列、5列切换，默认3列
- 可以通过在列表上双指缩放手势进行切换
- 双指扩大则减少列的数量，双指收缩则增加列的数量
- 到最小和最大时继续做手势，有回弹效果
- 改变列的数量时，需要有丝滑的过渡动效

### REQ-005: 网格视图长按拖动多选
- 支持长按后滑动手指实现图片的多选
- 选中从开始长按的照片到松开手指的照片以及他们之间所连续的所有照片
- 每次进行这样的操作并不清除之前已经选择的照片，每次的结果累计

### REQ-006: 瀑布流视图基础定义
指列表中每个照片宽度一致，但保持照片的长宽比不变，使得每张照片的内容可以显示完整的视图。

### REQ-007~009: 瀑布流视图列数切换
- 支持1列、2列、3列、4列、5列切换，默认3列
- 可以通过在列表上双指缩放手势进行切换
- 双指扩大则减少列的数量，双指收缩则增加列的数量
- 到最小和最大时继续做手势，有回弹效果
- 改变列的数量时，需要有丝滑的过渡动效

### REQ-010: 瀑布流视图多选限制
瀑布流视图不支持长按后滑动手指进行图片的多选，只能一个个点击图片进行多选。

### REQ-011: 照片真实时间
默认取照片的拍照时间/拍摄时间，如果取不到或者文件没有拍照时间/拍摄时间的话，取文件的创建时间。

### REQ-012~021: 全屏预览界面

#### REQ-012: 基础布局
- 隐藏app原有的顶部导航栏和底部导航栏
- 以撑满显示区域最大宽度或最大高度并保持原图片长宽比不变、无裁切的样式最大化展示图片

#### REQ-013: 图片信息展示
默认在屏幕左上角（注意避开系统状态栏）展示：
- 文件名
- 照片真实时间（年月日时分秒）
- 地理位置（省份+地级市）
- 照片分辨率
- 文件大小（单位MB）

#### REQ-014: 照片预览条
- 高度不要太高
- 当前列表中的每张照片以固定的长宽比（高度：宽度=2：1）展示
- 裁切时请保证每张照片可展示出尽可能多的内容（居中裁切）
- 当前预览中的照片展示在正中间，占据更宽一些的空间来进行指示
- 当照片多于一屏时，预览条可左右滑动
- 滑动需要尽可能丝滑、跟手，可以有一定惯性
- 滑动过程中实时将预览中的照片替换为预览条中央的照片
- 点击预览条中的一张照片时，将预览中的照片替换为这张照片，并且滑动预览条时这张照片居中

#### REQ-015: 底部操作栏
默认展示以下操作：
1. 复制（保留EXIF信息）
2. 用其他app打开
3. 编辑（PhotoZen内置编辑功能）
4. 分享到其他App
5. 彻底删除（调用系统删除功能，需要用户二次确认）

#### REQ-016: 显示隐藏切换
- 进入全屏预览界面时，默认展示图片信息及底部操作区
- 顶部始终展示当前照片序号/总照片张数
- 在照片上点击/上滑，切换显示/隐藏图片信息与底部操作区

#### REQ-017: 双击缩放
- 当照片放大倍率=1时，以双击位置为中心将照片放大2.5倍
- 当照片放大倍率>1，恢复1倍倍率

#### REQ-018: 双指缩放
- 支持1-10倍倍率
- 当显示倍率>1时，可以滑动照片
- 当照片已经到了左右边缘，继续滑动，切换到前一张或下一张照片

#### REQ-019: 左右滑动切换
照片放大倍率=1时，左右滑动照片，切换前一张/下一张

#### REQ-020: 下滑退出
在照片上向下滑或使用系统的滑动返回手势，退出全屏预览界面

#### REQ-021: 进入过渡动画
从原列表中点击照片进入全屏预览界面时，过渡动画尽可能丝滑，最好可以从所点击的照片的区域通过一个丝滑、动效符合物理规律且自然的放大动效过渡到全屏

### REQ-022~023: 排序按钮
- 保持不同页面排序按钮点击后的交互形式一致
- 每个列表类型的排序方式独立记忆
- 如果用户再次进入了某个列表，则默认为上一次用户在这一类列表中选择的排序方式
- 不同的列表类型不互相影响

### REQ-024~025: 底部操作栏规范
- 图标和文字上下排列
- 文字精简且表意准确
- 图标表意准确
- 保证在所有手机上都能完整展示
- 如果按钮展示不全，支持左右滑动
- 需要在交互上通过某种方式让用户知道右边还有其他按钮

### REQ-026: 复制照片功能
- 通过PhotoZen的复制功能进行复制（保证所有信息不变，包括文件创建时间、修改时间、拍照时间、地理位置exif等）
- 复制完成后toast提示
- 如果一次性选择了复制多张，toast中告知用户成功/失败情况

### REQ-027: 视图模式切换按钮
点击后，在网格视图和瀑布流视图之间进行切换

---

## 二、列表类型定义

| 列表名称 | 入口 | 状态 |
|---------|------|------|
| 筛选列表 | 首页每日任务/时间线整理/相册整理 | 已有 |
| 我的相册照片列表 | 相册tab→气泡/列表 | 已有 |
| 已保留照片列表 | 首页→已保留入口 | 已有 |
| 待定照片列表 | 首页→对比入口 | 已有 |
| 回收站照片列表 | 首页→回收站入口 | 已有 |
| 时间线照片列表 | 时间线tab→展开分组→查看全部 | 新增 |

---

## 三、具体操作需求

### REQ-028~032: 待定照片列表

#### REQ-028: 排序选项
- 右上角：排序按钮、视图模式切换按钮
- 排序选项：照片真实时间正序/倒序、添加至待定列表时间正序/倒序
- 默认：照片真实时间倒序

#### REQ-029: 点击选中
- 点击选中照片，再次点击取消选中
- 支持多选，最多选中6张照片
- 已选中6张照片时继续点击其他照片，toast"最多可对比6张照片"

#### REQ-030: 拖动多选限制
- 网格视图：在照片上按住并拖动，选中从开始到结束的所有照片，不清除之前选中
- 若超过6张，松手后选中从开始的6张并toast"最多可对比6张照片"
- 瀑布流视图：按住并拖动无多选效果（松手后仅选中开始的那张照片）

#### REQ-031: 选中后操作
展示两个按钮：清除、对比
- 对比按钮仅在选中2-6张时可点击
- 点击后进入对比模式

#### REQ-032: 对比模式全屏预览
进入对比模式后，点击照片上的全屏预览按钮，进入通用的全屏预览界面

### REQ-033~036: 回收站照片列表

#### REQ-033: 排序选项
- 右上角：排序按钮、视图模式切换按钮
- 排序选项：照片真实时间正序/倒序、添加至回收站时间正序/倒序
- 默认：添加到回收站时间倒序

#### REQ-034: 点击进入全屏预览
点击照片进入该照片的全屏预览界面，可滑动切换的范围是回收站全部照片

#### REQ-035: 长按进入选择模式
- 长按照片选中并进入选择模式
- 网格视图：按住并拖动可批量选中
- 瀑布流视图：按住并拖动无多选效果
- 系统滑动返回手势退出选择模式

#### REQ-036: 底部操作
设置为保留、设置为待定、重置为未筛选、彻底删除

### REQ-037~043: 已保留照片列表

#### REQ-037: 排序选项
- 右上角：排序按钮、视图模式切换按钮、已分类至相册照片过滤开关
- 排序选项：照片真实时间正序/倒序、添加至已保留时间正序/倒序、随机排序
- 默认：照片真实时间倒序

#### REQ-038: 已分类过滤开关
过滤已分类至相册的照片

#### REQ-039: 点击进入全屏预览
点击照片进入全屏预览，可滑动切换范围是当前展示的全部照片（遵从过滤条件）

#### REQ-040: 长按进入选择模式
- 长按照片选中并进入选择模式
- 网格视图：按住并拖动可批量选中
- 瀑布流视图：按住并拖动无多选效果
- 系统滑动返回手势退出选择模式

#### REQ-041: 底部操作
添加到相册、设置为待定、移至回收站、重置为未筛选、彻底删除

#### REQ-042: 添加到相册弹窗
- 展示全部相册列表
- 照片所属相册置灰并提示"这是当前所在相册"
- 提供添加相册按钮，点击后打开"管理快捷相册列表"弹窗
- 弹窗保存后，可选相册列表立即更新

#### REQ-043: 快速分类模块
展示在顶部导航栏下方，保持当前逻辑不变

### REQ-044~050: 我的相册照片列表

#### REQ-044: 排序选项
- 右上角：排序按钮、视图模式切换按钮
- 排序选项：照片真实时间正序/倒序、随机排序
- 默认：照片真实时间倒序

#### REQ-045: 点击进入全屏预览
点击照片进入全屏预览，可滑动切换范围是该相册的全部照片

#### REQ-046: 长按进入选择模式
- 长按照片选中并进入选择模式
- 网格视图：按住并拖动可批量选中
- 瀑布流视图：按住并拖动无多选效果
- 系统滑动返回手势退出选择模式

#### REQ-047: 底部操作
- 通用操作：添加到其他相册、批量修改筛选状态、复制照片、彻底删除
- 单选额外操作：从此开始筛选

#### REQ-048: 批量修改筛选状态
可选择：标记为保留、设置为待定、移至回收站、重置为未筛选

#### REQ-049: 添加到其他相册
- 展示全部相册列表
- 当前相册置灰并提示"这是当前所在相册"
- 提供添加相册按钮，点击后打开"管理快捷相册列表"弹窗
- 弹窗保存后，可选相册列表立即更新（仍过滤当前相册）

#### REQ-050: 顶部整理模块
- 顶部开始整理模块
- 照片筛选状态过滤器
- 展示在顶部导航栏下方，保持当前逻辑不变

### REQ-051~056: 时间线照片列表

#### REQ-051: 排序选项
- 右上角：排序按钮、视图模式切换按钮
- 排序选项：照片真实时间正序/倒序、随机排序
- 默认：照片真实时间倒序

#### REQ-052: 点击进入全屏预览
点击照片进入全屏预览，可滑动切换范围是该时间线分组的全部照片

#### REQ-053: 长按进入选择模式
- 长按照片选中并进入选择模式
- 网格视图：按住并拖动可批量选中
- 瀑布流视图：按住并拖动无多选效果
- 系统滑动返回手势退出选择模式

#### REQ-054: 底部操作
- 通用操作：添加到其他相册、批量修改筛选状态、复制照片、彻底删除
- 单选额外操作：从此开始筛选

#### REQ-055: 批量修改筛选状态
可选择：标记为保留、设置为待定、移至回收站、重置为未筛选

#### REQ-056: 顶部整理模块
与我的相册照片列表相同，展示在顶部导航栏下方

### REQ-057~058: 筛选列表

#### REQ-057: 全局操作按钮
- 卡片筛选模式：筛选器按钮、排序按钮、筛选模式切换按钮
- 列表筛选模式：筛选器按钮、排序按钮、列表模式切换按钮、筛选模式切换按钮
- 排序选项：照片真实时间正序/倒序、随机排序，默认倒序

#### REQ-058: 深度整理模式布局
在深度整理模式下，把全局操作悬浮在图片展示区域，避免和顶部导航栏冲突

---

## 四、其他相关需求

### REQ-059~060: 快速分类到相册模块

#### REQ-059: 编辑相册列表弹窗
底部添加相册按钮点击后，弹出"编辑快捷相册列表"弹窗，保存后实时更新底部可选相册列表

#### REQ-060: 撤销功能
- 右上角导航栏新增撤销按钮
- 撤销上一张照片的操作：
  - 如果是跳过，则回到上一张照片，用户可重新选择
  - 如果是添加到相册：
    - 默认复制：删除所选相册中的新文件
    - 默认移动：将文件移回原相册
- 暂时只支持撤回一步
- 无法撤回时隐藏撤销按钮
- 设计需考虑未来支持多步撤回的扩展性
- 回到上一张照片不影响原有排序和展示顺序

### REQ-061~062: 我的相册列表优化

#### REQ-061: 编辑快捷相册入口
无论气泡视图还是列表视图，都需要新增一个全局的"编辑快捷相册列表"入口

#### REQ-062: 开始整理按钮样式统一
列表视图的开始整理按钮与时间线列表中的按钮样式统一

### REQ-063: 照片状态指示器样式优化
设计足够现代的样式：
- 例如在照片左上角打上小小的直角三角形角标
- 需要足够小且表意足够明确
- 应用于：我的相册照片列表、时间线照片列表

### REQ-064: 筛选列表标题优化
从今日任务、我的相册、时间线进入的筛选界面：
- 左上角筛选进度显示优化
- 字号调整
- 避免莫名其妙的换行
- 不和右侧导航栏按钮冲突

### REQ-065: 每日任务跨天进度修复
- 问题：跨天时进度不会重新更新，还是显示前一天的进度
- 现状：必须手动杀掉app进程重新打开才能正常显示
- 需要修复此bug

---

## 五、备选方案与新手引导

### REQ-066: 备选方案-列数切换按钮
如果评估后认为双指缩放切换列数容易造成手势冲突且风险高：
- 可修改为全局操作按钮，循环切换列数
- 切换到最大后再次点击逐渐变小
- 切换到最小后再点击逐渐变多
- 按钮图标需与视图模式切换按钮区分

### REQ-067: 新手引导设计
如果实现了双指缩放切换列数等功能：
- 设计合适的新手引导让用户知道操作方式
- 追求最完美的设计

---

## 附录：原始需求文档全文

```
[原始文档保留在 listing_prd.md]
```

---

## 需求-模块映射表

| 模块 | 涉及需求 |
|-----|---------|
| 模块A: 通用视图组件 | REQ-001~011, REQ-022~027 |
| 模块B: 全屏预览界面 | REQ-012~021 |
| 模块C: 待定照片列表 | REQ-028~032 |
| 模块D: 回收站照片列表 | REQ-033~036 |
| 模块E: 已保留照片列表 | REQ-037~043 |
| 模块F: 相册照片列表 | REQ-044~050 |
| 模块G: 时间线照片列表 | REQ-051~056 |
| 模块H: 筛选列表 | REQ-057~058 |
| 模块I: 其他优化 | REQ-059~065 |
| 模块J: 备选方案 | REQ-066~067 |
