# PhotoZen æ‰‹åŠ¿äº¤äº’è§„èŒƒ v2.0

> ğŸ“Œ æ›´æ–°æ—¥æœŸ: 2026-01-25 | è®¾è®¡ç³»ç»Ÿé›†æˆç‰ˆ

---

## 1. ç…§ç‰‡åˆ—è¡¨æ‰‹åŠ¿è§„èŒƒ

æ‰€æœ‰ç…§ç‰‡åˆ—è¡¨é¡µé¢å¿…é¡»éµå¾ªä»¥ä¸‹æ‰‹åŠ¿è§„èŒƒï¼Œç¡®ä¿ç”¨æˆ·åœ¨ä¸åŒé¡µé¢è·å¾—ä¸€è‡´çš„äº¤äº’ä½“éªŒã€‚

### 1.1 ç‚¹å‡»

| åœºæ™¯ | è¡Œä¸º |
|:----|:----|
| éé€‰æ‹©æ¨¡å¼ | è¿›å…¥å…¨å±é¢„è§ˆ |
| é€‰æ‹©æ¨¡å¼ | åˆ‡æ¢è¯¥ç…§ç‰‡çš„é€‰ä¸­çŠ¶æ€ |

### 1.2 é•¿æŒ‰ï¼ˆä¸ç§»åŠ¨ï¼‰

**è§¦å‘æ¡ä»¶**: æŒ‰å‹æ—¶é—´ > 500msï¼Œç§»åŠ¨è·ç¦» < é˜ˆå€¼

**è¡Œä¸ºåºåˆ—**:
1. é€‰ä¸­å½“å‰ç…§ç‰‡
2. è¿›å…¥é€‰æ‹©æ¨¡å¼
3. æ˜¾ç¤ºåº•éƒ¨æ“ä½œæ 
4. è§¦å‘éœ‡åŠ¨åé¦ˆ

**éœ‡åŠ¨åé¦ˆ**:
- ç±»å‹: `HapticFeedbackType.LongPress`
- æ—¶é•¿: çº¦ 50ms

### 1.3 é•¿æŒ‰ + æ‹–åŠ¨

**è§¦å‘æ¡ä»¶**: é•¿æŒ‰åç§»åŠ¨è·ç¦» > é˜ˆå€¼

**è¡Œä¸ºç‰¹æ€§**:
- ä»é•¿æŒ‰ä½ç½®å¼€å§‹æ‰¹é‡é€‰æ‹©
- æ‹–åŠ¨ç»è¿‡çš„æ‰€æœ‰ç…§ç‰‡éƒ½è¢«é€‰ä¸­
- æ”¯æŒè‡ªåŠ¨æ»šåŠ¨ï¼ˆå½“æ‹–åŠ¨åˆ°åˆ—è¡¨è¾¹ç¼˜æ—¶ï¼‰
- æ¯æ–°å¢ä¸€ä¸ªé€‰ä¸­é¡¹è§¦å‘è½»å¾®éœ‡åŠ¨

**éœ‡åŠ¨åé¦ˆ**:
- ç±»å‹: `HapticFeedbackType.TextHandleMove`
- è§¦å‘: æ¯æ–°å¢ä¸€ä¸ªé€‰ä¸­é¡¹

**è‡ªåŠ¨æ»šåŠ¨**:
- è¾¹ç¼˜æ£€æµ‹åŒºåŸŸ: è·é¡¶éƒ¨/åº•éƒ¨ 100dp
- æ»šåŠ¨é€Ÿåº¦: æ ¹æ®è·ç¦»åŠ¨æ€è°ƒæ•´

### 1.4 é€€å‡ºé€‰æ‹©æ¨¡å¼

| æ“ä½œ | è¡Œä¸º |
|:----|:----|
| ç‚¹å‡»é¡¶æ å…³é—­æŒ‰é’® | æ¸…é™¤æ‰€æœ‰é€‰æ‹©ï¼Œé€€å‡ºé€‰æ‹©æ¨¡å¼ |
| æŒ‰è¿”å›é”® | æ¸…é™¤æ‰€æœ‰é€‰æ‹©ï¼Œé€€å‡ºé€‰æ‹©æ¨¡å¼ |
| é€‰ä¸­æ•°å½’é›¶ | è‡ªåŠ¨é€€å‡ºé€‰æ‹©æ¨¡å¼ |

---

## 2. æ»‘åŠ¨æ•´ç†æ‰‹åŠ¿è§„èŒƒ

### 2.1 åŸºæœ¬æ‰‹åŠ¿

| æ‰‹åŠ¿ | æ–¹å‘ | æ“ä½œ | é¢œè‰²åé¦ˆ | éœ‡åŠ¨åé¦ˆ |
|:----|:----|:----|:--------|:--------|
| å³æ»‘ | â†’ | ä¿ç•™ (Keep) | ç»¿è‰²è¾¹ç¼˜å‘å…‰ | è½»å¾®éœ‡åŠ¨ |
| å·¦æ»‘ | â† | ä¿ç•™ (Keep) | ç»¿è‰²è¾¹ç¼˜å‘å…‰ | è½»å¾®éœ‡åŠ¨ |
| ä¸Šæ»‘ | â†‘ | åˆ é™¤ (Trash) | çº¢è‰²è¾¹ç¼˜å‘å…‰ | å¼ºéœ‡åŠ¨ |
| ä¸‹æ»‘ | â†“ | å¾…å®š (Maybe) | é»„è‰²è¾¹ç¼˜å‘å…‰ | åŒå‡»éœ‡åŠ¨ |

### 2.2 è§¦å‘é˜ˆå€¼

åŸºç¡€é˜ˆå€¼ä¸ºå±å¹•å®½åº¦çš„ 20%ï¼Œå—çµæ•åº¦è®¾ç½®å½±å“ï¼š

| æ–¹å‘ | é˜ˆå€¼ä¹˜æ•° | è¯´æ˜ |
|:----|:--------|:----|
| å³æ»‘ | 1.0 | åŸºå‡†é˜ˆå€¼ |
| å·¦æ»‘ | 0.9 | ç¨æ˜“è§¦å‘ |
| ä¸Šæ»‘ | 0.8 | è¾ƒæ˜“è§¦å‘ï¼ˆç ´åæ€§æ“ä½œéœ€æ˜ç¡®æ„å›¾ï¼‰ |
| ä¸‹æ»‘ | 0.7 | æœ€æ˜“è§¦å‘ï¼ˆéç ´åæ€§ï¼‰ |

### 2.3 è§†è§‰åé¦ˆ

**åŠ¨æ€æ•ˆæœ**:
- **å€¾æ–œé€è§†**: æ°´å¹³æ»‘åŠ¨æ—¶å¡ç‰‡æ²¿ Z è½´æ—‹è½¬ï¼ˆæœ€å¤§ 15Â°ï¼‰
- **å‚ç›´å€¾æ–œ**: å‚ç›´æ»‘åŠ¨æ—¶å¡ç‰‡æ²¿ X è½´æ—‹è½¬ï¼ˆæœ€å¤§ 5Â°ï¼‰
- **åŠ¨æ€é˜´å½±**: åŸºç¡€ 8dpï¼Œæ»‘åŠ¨æ—¶æœ€é«˜å¢è‡³ 20dp
- **ç¼©æ”¾æ•ˆæœ**: ä¸‹æ»‘æ—¶å¾®ç¼©ï¼ˆæœ€å° 0.85ï¼‰ï¼Œä¸Šæ»‘æ—¶å¾®æ”¾ï¼ˆæœ€å¤§ 1.03ï¼‰

**å›å¼¹åŠ¨ç”»**:
- ä½¿ç”¨ `PicZenMotion.Springs.playful()` å¼¹ç°§åŠ¨ç”»
- æä¾›æ´»æ³¼çš„å¼¹è·³æ•ˆæœ

### 2.4 éœ‡åŠ¨åé¦ˆç³»ç»Ÿ

ä½¿ç”¨ `HapticFeedbackManager` æä¾›æ–¹å‘æ„ŸçŸ¥çš„éœ‡åŠ¨åé¦ˆï¼š

| æ—¶æœº | åé¦ˆç±»å‹ | è¯´æ˜ |
|:----|:--------|:----|
| å¼€å§‹æ‹–åŠ¨ | è½»å¾®éœ‡åŠ¨ | ç¡®è®¤æ‰‹åŠ¿å¼€å§‹ |
| è¾¾åˆ°ä¸´ç•Œç‚¹ | æ–¹å‘ç‰¹å®šéœ‡åŠ¨ | Keep=è½»/Trash=å¼º/Maybe=åŒå‡» |
| æ“ä½œå®Œæˆ | ç¡®è®¤éœ‡åŠ¨ | ç¡®è®¤æ“ä½œæˆåŠŸ |

### 2.5 ç‚¹å‡»æ‰‹åŠ¿

| æ“ä½œ | è¡Œä¸º |
|:----|:----|
| å•å‡» | åˆ‡æ¢æ˜¾ç¤º/éšè—ç…§ç‰‡ä¿¡æ¯ |
| åŒå‡» | è¿›å…¥/é€€å‡ºç¼©æ”¾æ¨¡å¼ |
| é•¿æŒ‰ | æ˜¾ç¤ºå¿«æ·æ“ä½œèœå• |

---

## 3. å…¨å±é¢„è§ˆæ‰‹åŠ¿è§„èŒƒ

### 3.1 ç¼©æ”¾æ‰‹åŠ¿

| æ‰‹åŠ¿ | è¡Œä¸º |
|:----|:----|
| åŒå‡» | åˆ‡æ¢ 1x â†” 2x ç¼©æ”¾ |
| åŒæŒ‡æåˆ | å¹³æ»‘ç¼©æ”¾ (1x - 5x) |
| åŒæŒ‡å¼ å¼€ | å¹³æ»‘æ”¾å¤§ |

### 3.2 å¹³ç§»æ‰‹åŠ¿

| æ‰‹åŠ¿ | æ¡ä»¶ | è¡Œä¸º |
|:----|:----|:----|
| å•æŒ‡æ‹–åŠ¨ | ç¼©æ”¾ > 1x | å¹³ç§»æŸ¥çœ‹ç»†èŠ‚ |
| å•æŒ‡æ‹–åŠ¨ | ç¼©æ”¾ = 1x | åˆ‡æ¢ä¸Šä¸€å¼ /ä¸‹ä¸€å¼  |

### 3.3 é€€å‡ºæ‰‹åŠ¿

| æ‰‹åŠ¿ | è¡Œä¸º |
|:----|:----|
| ä¸‹æ‹‰ (ç¼©æ”¾=1x) | é€€å‡ºå…¨å±é¢„è§ˆ |
| è¿”å›é”® | é€€å‡ºå…¨å±é¢„è§ˆ |
| ç‚¹å‡»èƒŒæ™¯ | é€€å‡ºå…¨å±é¢„è§ˆ |

---

## 4. Light Table æ‰‹åŠ¿è§„èŒƒ

### 4.1 åŒæ­¥ç¼©æ”¾

- æ‰€æœ‰å¯¹æ¯”ç…§ç‰‡å…±äº«åŒä¸€ä¸ª `TransformState`
- ç¼©æ”¾/å¹³ç§»æ“ä½œåŒæ­¥åº”ç”¨åˆ°æ‰€æœ‰ç…§ç‰‡
- æ”¯æŒ 1x - 5x ç¼©æ”¾èŒƒå›´

### 4.2 é€‰æ‹©æ‰‹åŠ¿

| æ‰‹åŠ¿ | è¡Œä¸º |
|:----|:----|
| ç‚¹å‡»ç…§ç‰‡ | åˆ‡æ¢è¯¥ç…§ç‰‡çš„é€‰ä¸­çŠ¶æ€ |
| é•¿æŒ‰ç…§ç‰‡ | å°†è¯¥ç…§ç‰‡è®¾ä¸ºä¸»å›¾ (å±…ä¸­å¯¹é½å‚è€ƒ) |

---

## 5. éœ‡åŠ¨åé¦ˆè§„èŒƒ

### 5.1 HapticFeedbackManager

PhotoZen ä½¿ç”¨ç»Ÿä¸€çš„ `HapticFeedbackManager` å¤„ç†æ‰€æœ‰éœ‡åŠ¨åé¦ˆï¼š

```kotlin
@Composable
fun rememberHapticFeedbackManager(
    enabled: Boolean = true
): HapticFeedbackManager
```

### 5.2 åé¦ˆç±»å‹

| æ–¹æ³• | åœºæ™¯ | åé¦ˆå¼ºåº¦ |
|:----|:----|:--------|
| `performDragStart()` | å¼€å§‹æ‹–åŠ¨ | è½»å¾® |
| `performThresholdReached(direction)` | è¾¾åˆ°æ»‘åŠ¨ä¸´ç•Œç‚¹ | æ–¹å‘ç‰¹å®š |
| `performActionComplete(direction)` | æ»‘åŠ¨æ“ä½œå®Œæˆ | ç¡®è®¤ |

### 5.3 æ–¹å‘ç‰¹å®šåé¦ˆ

| SwipeHapticDirection | éœ‡åŠ¨æ¨¡å¼ | ç”¨é€” |
|:--------------------|:--------|:----|
| KEEP | è½»å¾®å•æ¬¡ | ä¿ç•™æ“ä½œ |
| TRASH | å¼ºçƒˆå•æ¬¡ | åˆ é™¤æ“ä½œ |
| MAYBE | åŒå‡»æ¨¡å¼ | å¾…å®šæ“ä½œ |

### 5.4 è®¾ç½®æ§åˆ¶

ç”¨æˆ·å¯åœ¨è®¾ç½®ä¸­å¼€å…³éœ‡åŠ¨åé¦ˆï¼š
- è®¾ç½®é¡¹: `hapticFeedbackEnabled`
- é»˜è®¤å€¼: `true`

---

## 6. ç»Ÿä¸€å®ç°ç»„ä»¶

### 6.1 DragSelectPhotoGrid

```kotlin
DragSelectPhotoGrid(
    photos = photos,
    selectedIds = selectedIds,
    onSelectionChanged = { newSelection ->
        viewModel.updateSelection(newSelection)
    },
    onPhotoClick = { id, index ->
        // è¿›å…¥å…¨å±é¢„è§ˆ
    },
    onPhotoLongPress = { id, uri ->
        // é•¿æŒ‰ä¸åŠ¨å›è°ƒ
    },
    columns = columns,
    enableDragSelect = true
)
```

### 6.2 SwipeablePhotoCard

```kotlin
SwipeablePhotoCard(
    photo = photo,
    isTopCard = true,
    swipeSensitivity = 1.0f,
    hapticFeedbackEnabled = true,
    onSwipeLeft = { /* Keep */ },
    onSwipeRight = { /* Keep */ },
    onSwipeUp = { /* Trash */ },
    onSwipeDown = { /* Maybe */ },
    showInfoOnImage = false
)
```

---

## 7. è¾¹ç¼˜æƒ…å†µå¤„ç†

### 7.1 ç©ºåˆ—è¡¨

- æ˜¾ç¤º `AnimatedEmptyState` ç©ºçŠ¶æ€ç»„ä»¶
- å¸¦æµ®åŠ¨åŠ¨ç”»æ•ˆæœ
- ç¦ç”¨æ‰€æœ‰æ‰‹åŠ¿äº¤äº’

### 7.2 å•å¼ ç…§ç‰‡

- ç¦ç”¨æ‹–åŠ¨å¤šé€‰
- ä¿ç•™ç‚¹å‡»å’Œé•¿æŒ‰åŠŸèƒ½

### 7.3 æ­£åœ¨åŠ è½½

- æ˜¾ç¤ºåŠ è½½å ä½ç¬¦
- ç¦ç”¨äº¤äº’ç›´åˆ°åŠ è½½å®Œæˆ

### 7.4 æ‰‹åŠ¿å†²çª

- åµŒå¥—æ»šåŠ¨: ä½¿ç”¨ `nestedScroll` åè°ƒ
- å¤šæ‰‹æŒ‡: ä¼˜å…ˆå¤„ç†ç¼©æ”¾ï¼Œå¿½ç•¥é¢å¤–æ‰‹æŒ‡

---

## 8. ç›¸å…³æ–‡æ¡£

- [DESIGN_SYSTEM.md](DESIGN_SYSTEM.md) - è®¾è®¡ç³»ç»Ÿè§„èŒƒ
- [INTERACTION_SPEC.md](INTERACTION_SPEC.md) - äº¤äº’è®¾è®¡è§„èŒƒ

---

*æœ¬è§„èŒƒåŸºäº HapticFeedbackManager å’Œ PicZenMotion åŠ¨æ•ˆç³»ç»Ÿï¼Œç¡®ä¿ä¸€è‡´çš„è§¦æ„Ÿä½“éªŒã€‚*
