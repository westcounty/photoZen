PhotoZen中有很多照片列表，不同照片列表有一些共通的需求，但也存在一些功能上的差异。我将为你详细描述不同列表的功能需求，请作为顶尖的产品经理、顶尖的交互设计师、顶尖的安卓技术专家，在充分满足用户需求、追求卓越的用户体验、保障出色的交付质量、保证灵活的可拓展性和很高的可维护性的基础上，参考ios的照片app（系统自带）、google photo等最佳实践及其他可参考的最佳实践，充分了解并理解当前已有的代码实现和已有功能，完整、高质量地进行产品方案、设计方案、技术方案的设计，并帮我进行高质量地实现，请确保完整实现下列需求，如果有你认为可以更优化的设计，可以提出并与我确认。

你可以在充分理解当前需求并保证完整性的基础上，按照claude code便于应用的方式，根据上述要求完善、细化并重新梳理需求文档。如果你这样做，请务必保证重构后的需求文档覆盖了所有的需求点并符合所有的细节要求，重构后的需求文档也需要附上原始需求文档的全文，以避免后续步骤中产生信息折损。

# 一、概念定义与通用规则
## 1、网格视图
指列表中每个照片均显示为正方形（裁切以使撑满正方形的情况下保留最多的照片内容）的视图。
支持2列、3列、4列、5列切换，默认3列，可以通过在列表上双指缩放手势进行切换，双指扩大则减少列的数量，双指收缩则增加列的数量，到最小和最大时继续做手势，有回弹效果。改变列的数量时，也需要有丝滑的过渡动效。
网格视图需要支持长按后滑动手指实现图片的多选，选中从开始长按的照片到松开手指的照片以及他们之间所连续的所有照片，且每次进行这样的操作并不清楚之前已经选择的照片，每次的结果累计。
## 2、瀑布流视图
指列表中每个照片宽度一致，但保持照片的长宽比不变，使得每张照片的内容可以显示完整的视图。
支持1列、2列、3列、4列、5列切换，默认3列，可以通过在列表上双指缩放手势进行切换，双指扩大则减少列的数量，双指收缩则增加列的数量，到最小和最大时继续做手势，有回弹效果。改变列的数量时，也需要有丝滑的过渡动效。
瀑布流视图不支持长按后滑动手指进行图片的多选，只能一个个点击图片进行多选。
## 3、照片真实时间
默认取照片的拍照时间/拍摄时间，如果取不到或者文件没有拍照时间/拍摄时间的话，取文件的创建时间。
## 4、全屏预览界面
参考现在在时间线页面，展开某个时间线分组后点击某张照片后进入的全屏预览页面，但具体需求描述如下：
1）进入全屏预览界面后，隐藏app原有的顶部导航栏和底部导航栏，以撑满显示区域最大宽度或最大高度并保持原图片长宽比不变、无裁切的样式最大化地展示图片。
2）图片信息展示：默认在屏幕左上角（注意避开系统状态栏）展示图片信息，包括文件名、照片真实时间（年月日时分秒）、地理位置（省份+地级市，根据代码中已有的计算方式计算）、照片分辨率、文件大小（单位MB）
3）底部操作区：由照片预览条和底部操作栏组成。
照片预览条：高度不要太高，当前列表中的每张照片以固定的长宽比（高度：宽度=2：1）展示，裁切时请保证每张照片可展示出尽可能多的内容（居中裁切），当前预览中的照片展示在正中间，占据更宽一些的空间来进行指示。当照片多于一屏时，预览条可左右滑动，滑动需要尽可能丝滑、跟手，可以有一定惯性，滑动过程中实时将预览中的照片替换为预览条中央的照片（需要保证滑动非常快的时候预览中的照片切换也很丝滑）。点击预览条中的一张照片时，将预览中的照片替换为这张照片，并且滑动预览条时这张照片居中。
底部操作栏：默认展示以下操作：复制（就是当前photoZen中已实现的复制功能）、用其他app打开、编辑（用PhotoZen内置的编辑功能编辑）、分享到其他App、彻底删除（调用系统删除功能，如果需要用户二次确认的话让用户二次确认一下）五个操作。
4）进入全屏预览界面时，默认展示图片信息及底部操作区。
顶部始终展示当前照片序号/总照片张数。
总照片张数是进入实时预览的列表的所有可预览照片数量。照片的展示顺序与进入实时预览的列表的照片显示顺序一致。
在照片上点击/上滑，在展示图片信息与底部操作区与隐藏图片信息与底部操作区之间切换（始终同时显示或始终隐藏）。
在照片上双击，当照片放大倍率=1时，以双击位置为中心将照片放大2.5倍；当照片放大倍率>1，恢复1倍倍率。
在照片上双指缩放，可以缩放照片，支持1-10倍倍率。当显示倍率>1时，可以滑动照片；当照片已经到了左右边缘，继续滑动，切换到前一张或下一张照片（现在的时间线页面点击照片后的全屏预览页面就有类似实现）。
照片放大倍率=1时，左右滑动照片，切换前一张/下一张。
在照片上向下滑或使用系统的滑动返回手势，退出全屏预览界面。
5）从原列表中点击照片进入全屏预览界面时，过渡动画尽可能丝滑，最好可以从所点击的照片的区域通过一个丝滑、动效符合物理规律且自然的放大动效过渡到全屏。
6）照片信息和底部操作区都是悬浮在照片之上的，隐藏后理论上照片会以尽可能撑满屏幕的方式展示。
## 5、排序按钮
请保持不同页面排序按钮点击后的交互形式一致。每个列表类型的排序方式独立记忆，如果用户再次进入了某个列表，则默认为上一次用户在这一类列表中选择的排序方式，但不同的列表类型不互相影响。
## 6、底部操作栏
图标和文字可以考虑上下排列，1）请务必考虑文字的精简度以及表意的准确性，以及图标表意的准确性，让每个按钮都能既简洁又让人看得懂是什么意思；2）请务必保证在所有手机上都能完整展示，如果按钮实在展示不全，底部操作栏应该支持左右滑动，并且需要在交互上通过某种方式让用户知道右边还有其他按钮。
## 7、复制照片功能
通过photozen的复制功能进行复制（即保证所有信息，包括文件创建时间、修改时间、拍照时间、地理位置exif等信息全部不变），复制完成后toast提示。如果一次性选择了复制多张，toast中告知用户成功/失败情况。请保证toast文案的易理解性。
## 8、视图模式切换按钮
点击后，在网格视图和瀑布流视图之间进行切换。

# 二、列表类型
## 1、筛选列表（已有）
入口：1）首页中，每日任务模块中点击整理全部或点击开始任务/继续任务；
2）时间线界面中，点击某个时间线分组的整理按钮；
3）时间线界面中，点击某个时间线分组展开的照片列表后的查看全部按钮；
4）我的相册的列表模式，点击开始整理按钮；
5）我的相册的照片列表（气泡模式下点击气泡进入，或列表模式点击列表中某个相册进入），点击顶部的开始整理，或选中某个照片选择“从这张照片开始整理”。
其中，1、2、4、5入口均默认进入的是卡片滑动筛选视图，需在右上角导航栏切换为列表筛选视图，3入口默认进入列表筛选视图。
## 2、我的相册照片列表（已有）
入口：点击app底部导航栏的“相册”tab，气泡模式下点击气泡进入，或列表模式点击列表中某个相册进入。
## 3、已保留照片列表（已有）
入口：点击app首页快捷功能区的“已保留”入口。
## 4、待定照片列表（已有）
入口：点击app首页快捷功能区的“对比”入口。
## 5、回收站照片列表（已有）
入口：点击app首页快捷功能区的“回收站”入口。
## 6、时间线照片列表（新增）
入口：点击app底部导航栏的“时间线”tab，展开某个时间线分组后点击查看全部。


# 三、具体操作
## 1、待定照片列表
1）全局操作：右上角只有排序按钮、视图模式切换按钮两个按钮。排序按钮点击后，在按照照片真实时间正序、照片真实时间倒序、添加至待定照片列表中的时间正序、添加至待定照片列表中的时间倒序中切换（请设计合理的交互方式，是点击后直接切换，还是点击后出一个下拉菜单让用户选择），默认是按照照片真实时间倒序。
2）无论在网格视图还是瀑布流视图，遵循通用定义中的定义及双指缩放手势。
3）在列表上，点击选中照片，再次点击取消选中，支持多选，最多选中6张照片，已选中6张照片时继续点击其他照片，toast“最多可对比6张照片”。
在网格视图，在照片上按住并拖动，则选中从开始按住的照片到手指松开的照片中的所有照片，且不清除之前选中的照片，若手指松开的照片与开始按住的照片超过6张照片，则松手后选中从开始按照的照片开始总共6张照片并toast“最多可对比6张照片”。
在瀑布流视图，在照片上按住并拖动无多选效果（松手后仅选中开始按住的那张照片）。
4）选中照片后的操作同当前实现（即展示两个按钮，清除和对比，其中对比按钮仅在选中的照片数量符合2-6张时可点击，点击后将选中的照片进入对比模式中对比）
5）进入对比模式后，点击照片上的全屏预览按钮，进入通用的全屏预览界面。
## 2、回收站照片列表
1）全局操作：右上角只有排序按钮、视图模式切换按钮两个按钮。排序按钮点击后，在按照照片真实时间正序、照片真实时间倒序、添加至回收站照片列表中的时间正序、添加至回收站照片列表中的时间倒序中切换（请设计合理的交互方式，是点击后直接切换，还是点击后出一个下拉菜单让用户选择），默认是根据添加到回收站照片列表中的时间倒序。
2）无论在网格视图还是瀑布流视图，遵循通用定义中的定义及双指缩放手势。
3）在列表上，点击照片进入该照片的全屏预览界面（同通用定义，可滑动切换的照片范围是回收站照片列表中的全部照片），
4）长按照片选中该照片并进入选择模式（点击选中照片，再次点击取消选中，支持多选），在网格视图，在照片上按住并拖动，则选中从开始按住的照片到手指松开的照片中的所有照片，且不清除之前选中的照片；在瀑布流视图，在照片上按住并拖动无多选效果（松手后仅选中开始按住的那张照片）。通过系统的滑动返回手势退出选择模式。
5）选中照片后的操作是底部操作栏展示设置为保留、设置为待定、重置为未筛选、彻底删除四个操作。
## 3、已保留照片列表
1）全局操作：右上角只有排序按钮、视图模式切换按钮、已分类至相册照片过滤开关三个按钮。排序按钮点击后，在按照照片真实时间正序、照片真实时间倒序、添加至回收站照片列表中的时间正序、添加至回收站照片列表中的时间倒序、随机排序中切换（请设计合理的交互方式，是点击后直接切换，还是点击后出一个下拉菜单让用户选择），默认是照片真实时间倒序。
2）无论在网格视图还是瀑布流视图，遵循通用定义中的定义及双指缩放手势。
3）在列表上，点击照片进入该照片的全屏预览界面（同通用定义，可滑动切换的照片范围是已保留照片列表中当前展示的全部照片，需要遵从已分类至相册照片开关的过滤条件），
4）长按照片选中该照片并进入选择模式（点击选中照片，再次点击取消选中，支持多选），在网格视图，在照片上按住并拖动，则选中从开始按住的照片到手指松开的照片中的所有照片，且不清除之前选中的照片；在瀑布流视图，在照片上按住并拖动无多选效果（松手后仅选中开始按住的那张照片）。通过系统的滑动返回手势退出选择模式。
5）选中照片后（无论单选还是多选）的操作是底部操作栏展示添加到相册、设置为待定、移至回收站、重置为未筛选、彻底删除五个操作。
选择添加到相册后，展示我的相册列表中的全部相册列表（照片所属的相册置灰并提示这是当前所在相册）并提供一个添加相册按钮，点击后打开“管理快捷相册列表”弹窗，管理快捷相册列表弹窗保存后，可选择的我的相册列表立即更新。
6）快速分类到相册模块：展示在顶部导航栏下方，保持当前逻辑不变。
## 4、我的相册照片列表
1）全局操作：右上角只有排序按钮、视图模式切换按钮两个按钮。排序按钮点击后，在按照照片真实时间正序、照片真实时间倒序、随机排序中切换（请设计合理的交互方式，是点击后直接切换，还是点击后出一个下拉菜单让用户选择），默认是照片真实时间倒序。
2）无论在网格视图还是瀑布流视图，遵循通用定义中的定义及双指缩放手势。
3）在列表上，点击照片进入该照片的全屏预览界面（同通用定义，可滑动切换的照片范围是该相册的全部照片），
4）长按照片选中该照片并进入选择模式（点击选中照片，再次点击取消选中，支持多选），在网格视图，在照片上按住并拖动，则选中从开始按住的照片到手指松开的照片中的所有照片，且不清除之前选中的照片；在瀑布流视图，在照片上按住并拖动无多选效果（松手后仅选中开始按住的那张照片）。通过系统的滑动返回手势退出选择模式。
5）选中照片后（无论单选还是多选）都有的操作是底部操作栏展示添加到其他相册、批量修改筛选状态、复制照片、彻底删除三个操作。
如果是单选，多一个“从此开始筛选”操作（当前已实现该操作的功能）。
选择批量修改筛选状态后，可选择标记为保留、设置为待定、移至回收站、重置为未筛选四种操作。请务必设计合理的交互方式。
选择添加到其他相册后，展示我的相册列表中的全部相册列表（照片所属的相册置灰并提示这是当前所在相册）并提供一个添加相册按钮，点击后打开“管理快捷相册列表”弹窗，管理快捷相册列表弹窗保存后，可选择的我的相册列表立即更新（仍然需要过滤当前相册不在可选范围内）。
6）顶部开始整理模块、照片筛选状态过滤器：展示在顶部导航栏下方，保持当前逻辑不变。（可站在优秀交互设计师的视角看看交互是否可优化，特别是照片筛选状态过滤器）
## 5、时间线照片列表
某个时间线分组展开后的照片列表中的照片，按照照片真实时间倒序来排序，点击某张照片后进入通用的全屏预览界面，列表范围就是该时间线分组中的所有照片。
滑动列表到最右边，点击查看全部后，进入一个新的照片列表。
1）全局操作：右上角只有排序按钮、视图模式切换按钮两个按钮。排序按钮点击后，在按照照片真实时间正序、照片真实时间倒序、随机排序中切换（请设计合理的交互方式，是点击后直接切换，还是点击后出一个下拉菜单让用户选择），默认是照片真实时间倒序。
2）无论在网格视图还是瀑布流视图，遵循通用定义中的定义及双指缩放手势。
3）在列表上，点击照片进入该照片的全屏预览界面（同通用定义，可滑动切换的照片范围是该相册的全部照片），
4）长按照片选中该照片并进入选择模式（点击选中照片，再次点击取消选中，支持多选），在网格视图，在照片上按住并拖动，则选中从开始按住的照片到手指松开的照片中的所有照片，且不清除之前选中的照片；在瀑布流视图，在照片上按住并拖动无多选效果（松手后仅选中开始按住的那张照片）。通过系统的滑动返回手势退出选择模式。
5）选中照片后（无论单选还是多选）都有的操作是底部操作栏展示添加到其他相册、批量修改筛选状态、复制照片、彻底删除三个操作。
如果是单选，多一个“从此开始筛选”操作（当前已实现该操作的功能）。
选择批量修改筛选状态后，可选择标记为保留、设置为待定、移至回收站、重置为未筛选四种操作。请务必设计合理的交互方式。
选择添加到其他相册后，展示我的相册列表中的全部相册列表（照片所属的相册置灰并提示这是当前所在相册）并提供一个添加相册按钮，点击后打开“管理快捷相册列表”弹窗，管理快捷相册列表弹窗保存后，可选择的我的相册列表立即更新（仍然需要过滤当前相册不在可选范围内）。
6）顶部开始整理模块、照片筛选状态过滤器：与我的相册照片列表中的这两个模块相同，展示在顶部导航栏下方，保持当前逻辑不变。（可站在优秀交互设计师的视角看看交互是否可优化，特别是照片筛选状态过滤器）
## 6、筛选列表
1）需要注意，在深度整理（筛选-对比-分类一条龙整理）模式下，要把下列描述中的全局操作悬浮在图片展示区域，避免和顶部导航栏冲突（显示整体进度和下一步按钮）。
2）全局操作：在卡片筛选模式时，为筛选器按钮、排序按钮、筛选模式切换按钮三个按钮。
2）全局操作：在卡片筛选模式时，为筛选器按钮、排序按钮、列表模式切换按钮、筛选模式切换按钮四个按钮。
点击筛选器按钮弹出筛选器面板。
点击排序按钮在按照照片真实时间正序、照片真实时间倒序、随机排序中切换（请设计合理的交互方式，是点击后直接切换，还是点击后出一个下拉菜单让用户选择），默认是照片真实时间倒序。
筛选模式切换按钮是在卡片滑动筛选和列表筛选两种模式间切换。

# 四、其他相关需求
## 1、已保留照片列表中，“快速分类到相册”模块：
1）底部添加相册按钮点击后，弹出“编辑快捷相册列表”弹窗，保存后实时更新在底部可选的相册列表。
2）右上角导航栏新增一个撤销按钮，点击后撤销上一张对照片进行的操作：
如果上一张对照片进行的是跳过，则回到上一张照片，用户可以重新选择分类到某个相册或继续跳过；
如果上一张对照片进行的是添加到某个相册，则回到上一张照片，撤销添加到相册的操作（如果设置的是添加到相册时默认复制，则在所选相册中删除新创建的文件，如需用户确认的话就让用户确认；如果设置的是添加到相册时默认移动，则需要将文件移动回原来所在的相册），允许用户重新选择将该照片添加到哪个相册或跳过。
暂时可以只支持撤回一步，点击撤回后，若已经无法再撤回上一步操作，则隐藏撤销按钮，直到进行操作后重新可以撤回了。设计时需考虑为未来支持撤回多步提供拓展性。
回到上一张照片指的是让上一张照片重新展示在当前待处理的照片区域，且不影响照片的原有排序和展示顺序。例如处理了第10张照片，点撤回，则第10张照片恢复展示且下一张照片还是原来的第11张。
## 2、我的相册列表优化
1）无论气泡视图还是列表视图，都需要新增一个全局的“编辑快捷相册列表”入口。请进行合理的设计。
2）列表视图，开始整理的按钮与时间线列表中某个时间线分组开始整理的按钮样式不同，需要统一，请选择一个最合适的。
## 3、我的相册照片列表、时间线照片列表中照片状态指示器样式优化
现在的指示照片到底是已保留、待定、回收站还是待筛选的样式还是太丑了，请参考最佳实践设计一个足够现代的样式（例如在照片列表对应的照片左上角打上小小的直角三角形角标（两条直角是照片显示区域两个边，斜着构成一个直角三角形）等），需要足够小且表意足够明确。
## 4、筛选列表标题优化
从今日任务、我的相册、时间线进入的筛选界面，左上角显示的筛选进度显示有点丑，字号比较太大，会从莫名其妙的地方换行，请帮我优化一下，保证用优雅的方式显示完整信息的同时，不和右侧的导航栏按钮冲突。
## 5、任务栏每日任务进度通知修复
跨天的时候，进度不会重新更新，还是显示的是前一天的进度，必须得手动杀掉app进程重新打开才能正常显示。

# 五、重要备注
## 1、备选方案
如果你评估后，认为在列表中双指缩放切换列数的操作容易造成手势冲突且找不到最佳实践参考，认为实现后出问题的风险极高，可以在与我确认后，将方案修改为给所有支持双指所有切换列数的列表，增加一个全局操作按钮，和其他顶部导航栏的全局操作放在一起，用于循环切换列数（切换到最大后再次点击会再逐渐变小，切换到最小后再点击会再逐渐变多）。但需要保证这个按钮的图标表意足够清晰并且与列表模式切换按钮的图标能够区分开。
## 2、新手引导完善
如果你实现了双指缩放切换列数等功能，请评估如何设计合适的新手引导让用户知道应该如何操作，请进行最完美的设计。
